// HTTP REST Client (VS Code Extension: REST Client)
// You can run these requests directly in VS Code

### Variables
@baseUrl = http://localhost:3000
@userId = 1
@productId = 1

################################################################################
### USERS API
################################################################################

### Create a new user
POST {{baseUrl}}/users
Content-Type: application/json

{
  "email": "john.doe@example.com",
  "password": "SecurePass123",
  "firstName": "John",
  "lastName": "Doe",
  "age": 25,
  "role": "user",
  "address": {
    "street": "123 Main St",
    "city": "New York",
    "country": "USA",
    "zipCode": "10001"
  },
  "hobbies": ["reading", "coding", "gaming"],
  "phoneNumber": "+1234567890"
}

### Get all users
GET {{baseUrl}}/users?page=1&limit=10

### Get user by ID
GET {{baseUrl}}/users/{{userId}}

### Get active users
GET {{baseUrl}}/users/active

### Advanced user search
GET {{baseUrl}}/users/search/advanced?name=john&minAge=18&maxAge=50

### Update user
PATCH {{baseUrl}}/users/{{userId}}
Content-Type: application/json

{
  "firstName": "Jane",
  "age": 26,
  "isActive": true
}

### Delete user
DELETE {{baseUrl}}/users/{{userId}}

### Test validation (should fail)
POST {{baseUrl}}/users
Content-Type: application/json

{
  "email": "invalid-email",
  "password": "weak",
  "firstName": "A",
  "lastName": "B",
  "age": 15
}

################################################################################
### PRODUCTS API
################################################################################

### Create a product
POST {{baseUrl}}/products
Content-Type: application/json

{
  "name": "Laptop Pro 2024",
  "description": "High-performance laptop perfect for developers and creators",
  "price": 1299.99,
  "stock": 50,
  "category": "Electronics",
  "isAvailable": true,
  "images": ["laptop-front.jpg", "laptop-side.jpg"],
  "specifications": {
    "brand": "TechBrand",
    "processor": "Intel i7",
    "ram": "16GB",
    "storage": "512GB SSD",
    "screen": "15.6 inch"
  }
}

### Get all products
GET {{baseUrl}}/products

### Get products by category
GET {{baseUrl}}/products?category=Electronics

### Get low stock products
GET {{baseUrl}}/products/low-stock?threshold=10

### Get product by ID
GET {{baseUrl}}/products/{{productId}}

### Update product
PUT {{baseUrl}}/products/{{productId}}
Content-Type: application/json

{
  "name": "Laptop Pro 2024 Updated",
  "price": 1199.99,
  "stock": 45
}

### Update product stock
POST {{baseUrl}}/products/{{productId}}/stock
Content-Type: application/json

{
  "quantity": 10
}

### Delete product
DELETE {{baseUrl}}/products/{{productId}}

################################################################################
### ORDERS API
################################################################################

### Create an order
POST {{baseUrl}}/orders
Content-Type: application/json

{
  "userId": 1,
  "productId": 1,
  "quantity": 2,
  "notes": "Please deliver before 5 PM",
  "shippingAddress": {
    "street": "456 Oak Avenue",
    "city": "Boston",
    "country": "USA",
    "zipCode": "02101"
  }
}

### Get all orders
GET {{baseUrl}}/orders

### Get orders by status
GET {{baseUrl}}/orders?status=pending

### Get orders by user
GET {{baseUrl}}/orders?userId={{userId}}

### Get order by ID
GET {{baseUrl}}/orders/1

### Update order status
PATCH {{baseUrl}}/orders/1/status
Content-Type: application/json

{
  "status": "confirmed"
}

### Update order status to shipped
PATCH {{baseUrl}}/orders/1/status
Content-Type: application/json

{
  "status": "shipped"
}

### Cancel order
DELETE {{baseUrl}}/orders/1

################################################################################
### DEMO ENDPOINTS (Advanced Features)
################################################################################

### Headers demo
GET {{baseUrl}}/users/headers/demo
User-Agent: NestJS Learning Client
Authorization: Bearer sample-token

### Request object demo
POST {{baseUrl}}/users/request/demo
Content-Type: application/json

{
  "test": "data"
}

### Response demo (manual handling)
GET {{baseUrl}}/users/response/demo

### Response demo (auto with custom headers)
GET {{baseUrl}}/users/response/auto
